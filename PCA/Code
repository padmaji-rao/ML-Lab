#Before applying PCA

import pandas as pd
data=pd.read_csv("C:\\Users\\TEMP.SRKRIT.005\\Downloads\\Diabetes.csv")
x=data.drop("Outcome",axis=1)
y=data["Outcome"]

from sklearn.model_selection import train_test_split
x_tr,x_te,y_tr,y_te=train_test_split(x,y,test_size=0.3,random_state=1)

from sklearn.tree import DecisionTreeClassifier
model = DecisionTreeClassifier()
model.fit(x_tr,y_tr)
y_pred=model.predict(x_te)

from sklearn.metrics import accuracy_score
accuracy = accuracy_score(y_te, y_pred)
print(accuracy)



#After applying PCA

from sklearn.decomposition import PCA
from sklearn.preprocessing import StandardScaler
scaler = StandardScaler()
x_tr_scaled = scaler.fit_transform(x_tr)
x_te_scaled = scaler.transform(x_te)

pca = PCA(n_components=2)
pca.fit(x_tr_scaled)

x_tr_pca = pca.transform(x_tr_scaled)
x_te_pca = pca.transform(x_te_scaled)

model.fit(x_tr_pca,y_tr)
y_pred_pca=model.predict(x_te_pca)

accuracy = accuracy_score(y_te, y_pred_pca)
print(accuracy)
